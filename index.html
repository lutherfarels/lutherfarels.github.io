<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TrafficNeon Lab</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<header class="topbar">
  <div class="logo">Traffic<span>Neon</span> Lab</div>
  <nav class="nav">
    <button class="nav-link" data-goto="landing">Beranda</button>
    <button class="nav-link" data-goto="fitur">Fitur</button>
    <button class="nav-link" data-goto="konsep">Konsep Turunan</button>
    <button class="nav-link" data-goto="tutorial">Tutorial</button>
  </nav>
</header>

<main>
  <!-- ========== LANDING ========== -->
  <section id="landing" class="page-section active">
    <div class="landing-wrap">
      <div class="landing-text">
        <p class="tagline">Mini Riset Kalkulus • Kepadatan Lalu Lintas</p>
        <h1>Selamat datang di <span>TrafficNeon Lab</span></h1>
        <p class="subtitle">
          Website ini membantu menganalisis kepadatan lalu lintas berdasarkan data
          hasil pengamatan dan konsep turunan numerik.
        </p>
      </div>

      <div class="mode-buttons">
        <div class="mode-card">
          <h2>Mode Peneliti</h2>
          <p>Masukkan data observasi dan hitung tabel per interval.</p>
          <button id="btn-open-researcher" class="primary">Butuh password</button>
        </div>
        <div class="mode-card">
          <h2>Mode Pengguna</h2>
          <p>Lihat ringkasan jam sepi, normal, dan ramai dari data terbaru.</p>
          <button id="btn-open-user" class="secondary">Tanpa login</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ========== MODE PENELITI ========== -->
  <section id="researcher" class="page-section">
    <h2 class="section-title">Mode Peneliti</h2>
    <p class="section-subtitle">
      Masukkan data jumlah kendaraan per interval. Hasilnya otomatis dihitung dan
      disimpan sebagai draft.
    </p>

    <div class="grid-2">
      <div class="card">
        <h3>Info Observasi</h3>
        <label>Nama lokasi / simpang
          <input type="text" id="obs-location" placeholder="Misal: Simpang Lonsum" />
        </label>
        <label>Nama pengamat
          <input type="text" id="obs-observer" placeholder="Nama kamu" />
        </label>
        <label>Tanggal observasi
          <input type="date" id="obs-date" />
        </label>
      </div>

      <div class="card">
        <h3>Pengaturan Interval</h3>
        <label>Waktu mulai (HH:MM)
          <input type="time" id="interval-start" value="06:00" />
        </label>
        <label>Panjang interval (menit)
          <input type="number" id="interval-minutes" value="15" min="1" />
        </label>
        <label>Jumlah interval
          <input type="number" id="interval-count" value="8" min="1" max="30" />
        </label>
        <button id="btn-make-intervals" class="primary full">Buat input interval</button>
      </div>
    </div>

    <div class="card">
      <h3>Input Jumlah Kendaraan per Interval</h3>
      <p class="hint">
        Setelah menekan "Buat input interval", kolom input akan muncul di sini.
      </p>
      <div id="interval-inputs" class="interval-grid"></div>
      <div class="actions-right">
        <button id="btn-calc-save" class="primary">Hitung turunan &amp; simpan draft</button>
      </div>
      <p id="researcher-status" class="status-text"></p>
    </div>

    <div class="card">
      <h3>Detail Per Interval (draft terakhir dihitung)</h3>
      <div class="table-wrapper">
        <table id="detail-table">
          <thead>
            <tr>
              <th>t</th>
              <th>Waktu</th>
              <th>f(t) (kendaraan)</th>
              <th>f’(t)</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <div class="card">
      <h3>Draft Data Tersimpan</h3>
      <p class="hint">
        Setiap kali menghitung, 1 draft baru disimpan. Pilih draft yang ingin dipakai di Mode Pengguna 
        atau hapus jika tidak diperlukan.
      </p>
      <div class="table-wrapper">
        <table id="draft-table">
          <thead>
            <tr>
              <th>Nama lokasi</th>
              <th>Pengamat</th>
              <th>Tanggal</th>
              <th>Interval</th>
              <th>Aksi</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- ========== MODE PENGGUNA ========== -->
  <section id="user" class="page-section">
    <h2 class="section-title">Mode Pengguna</h2>
    <p class="section-subtitle">
      Pilih data pengamatan yang tersedia, lalu lihat ringkasan, grafik kepadatan,
      dan keterangan kemacetan.
    </p>

    <div class="card">
      <h3>Pilih Data</h3>
      <label>Draft data
        <select id="user-draft-select">
          <option value="">Belum ada data yang dipilih</option>
        </select>
      </label>
    </div>

    <div class="card" id="user-summary-card">
      <h3>Ringkasan Data</h3>
      <p id="user-summary-empty" class="hint">
        Belum ada data yang dipilih. Pilih draft pada daftar di atas atau dari Mode Peneliti.
      </p>
      <div id="user-summary-content" class="summary-grid hidden">
        <p><strong>Lokasi:</strong> <span id="sum-location"></span></p>
        <p><strong>Pengamat:</strong> <span id="sum-observer"></span></p>
        <p><strong>Tanggal:</strong> <span id="sum-date"></span></p>
        <p><strong>Interval:</strong> <span id="sum-interval"></span></p>
        <p><strong>Interval tersibuk:</strong> <span id="sum-busy"></span></p>
        <p><strong>Interval tersepi:</strong> <span id="sum-quiet"></span></p>
      </div>
    </div>

    <div class="card">
      <h3>Grafik Kepadatan per Interval</h3>
      <p class="hint">
        Titik warna hijau = sepi, biru = normal, merah = ramai. Garis menunjukkan
        perubahan jumlah kendaraan terhadap waktu.
      </p>
      <div class="chart-wrapper">
        <canvas id="traffic-chart"></canvas>
      </div>
    </div>

    <div class="card">
      <h3>Keterangan Kemacetan</h3>
      <div id="user-keterangan">
        <p class="hint">
          Informasi singkat tentang kondisi jalan akan muncul di sini setelah data dipilih.
        </p>
      </div>
    </div>

    <div class="card">
      <h3>Tabel Ringkasan Interval</h3>
      <div class="table-wrapper">
        <table id="user-table">
          <thead>
            <tr>
              <th>t</th>
              <th>Waktu</th>
              <th>f(t)</th>
              <th>f’(t)</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- ========== FITUR / KONSEP / TUTORIAL ========== -->
  <section id="fitur" class="page-section">
    <h2 class="section-title">Fitur Utama</h2>
    <div class="grid-3">
      <div class="card">
        <h3>Input Observasi</h3>
        <p>Mencatat nama jalan, pengamat, dan tanggal observasi.</p>
      </div>
      <div class="card">
        <h3>Turunan Numerik</h3>
        <p>
          Menghitung laju perubahan jumlah kendaraan dengan pendekatan forward,
          backward, dan central difference.
        </p>
      </div>
      <div class="card">
        <h3>Draft &amp; Publikasi</h3>
        <p>
          Menyimpan beberapa draft sekaligus dan memilih mana yang ingin
          ditampilkan kepada pengguna.
        </p>
      </div>
    </div>
  </section>

  <section id="konsep" class="page-section">
    <h2 class="section-title">Konsep Turunan yang Dipakai</h2>
    <div class="card">
      <p>
        Misalkan f(t) menyatakan jumlah kendaraan pada interval ke-t. Turunan f’(t) menyatakan
        <em>laju perubahan</em> jumlah kendaraan terhadap waktu.
      </p>
      <ul>
        <li>Forward: f’(0) ≈ f(1) – f(0)</li>
        <li>Backward: f’(n) ≈ f(n) – f(n-1)</li>
        <li>Central: f’(t) ≈ (f(t+1) – f(t-1)) / 2 untuk 0 &lt; t &lt; n</li>
      </ul>
      <p>
        Dari nilai f’(t), kita dapat melihat kapan kepadatan kendaraan naik cepat,
        stabil, atau menurun.
      </p>
    </div>
  </section>

  <section id="tutorial" class="page-section">
    <h2 class="section-title">Tutorial Singkat</h2>
    <div class="card">
      <ol>
        <li>Dari halaman awal, pilih <strong>Mode Peneliti</strong> dan masukkan password.</li>
        <li>Isi info observasi dan atur interval waktu, lalu klik <strong>Buat input interval</strong>.</li>
        <li>Isi jumlah kendaraan di setiap interval, lalu klik <strong>Hitung turunan &amp; simpan draft</strong>.</li>
        <li>Draft baru akan muncul di tabel draft. Pilih salah satu draft untuk digunakan di Mode Pengguna.</li>
        <li>Buka <strong>Mode Pengguna</strong>, pilih draft, lalu lihat ringkasan, grafik, dan keterangan kemacetan.</li>
      </ol>
    </div>
  </section>
</main>

<script src="script.js"></script>
</body>
</html>
